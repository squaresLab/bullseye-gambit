import sys
import gambit
import main


def strip_ind_string(ind_string):
    return ind_string.split("Tree 0:")[1].strip("\n")


if __name__ == '__main__':
    ind_string = sys.argv[1]

    # print(ind_string)

    stripped_ind_string = strip_ind_string(ind_string)

    # print(stripped_ind_string)

    game_tree = main.build_game_tree_br(stripped_ind_string)

    solver = gambit.nash.ExternalLPSolver()
    s = solver.solve(game_tree)

    # 2 timestep ne util
    neutil = 1.78771943969

    # print (s[0].payoff(g.players[0]))
    print (neutil - s[0].payoff(game_tree.players[1]))
